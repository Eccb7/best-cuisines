<%= form_with(model: [ @recipe, @recipe_food ], local: true, html: { class: 'needs-validation', novalidate: true }) do |form| %>
  <% if @recipe_food.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@recipe_food.errors.count, 'error') %> prohibited this ingredient from being saved:</h2>

      <ul>
        <% @recipe_food.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form.fields_for :food do |food_form| %>
    <div class="mb-3">
      <%= food_form.label :name, 'Food Name' %>
      <%= food_form.text_field :name, class: 'form-control', required: true %>
    </div>

    <div class="mb-3">
      <%= food_form.label :quantity, 'Quantity' %>
      <%= food_form.number_field :quantity, class: 'form-control', required: true %>
    </div>

    <div class="mb-3">
      <%= food_form.label :price, 'Price' %>
      <%= food_form.number_field :price, class: 'form-control', required: true %>
    </div>
  <% end %>

  <div class="d-flex justify-content-end">
    <%= form.submit 'Add Ingredient', class: 'btn btn-primary' %>
  </div>
<% end %>
